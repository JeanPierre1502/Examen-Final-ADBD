<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Prueba API REST Oracle</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; background: #f4f4f9; color: #333; }
    h2 { color: #4caf50; }
    form { background: white; padding: 20px; border-radius: 8px; max-width: 400px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    label { display: block; margin-top: 10px; }
    input[type="text"], input[type="number"] {
      width: 100%; padding: 8px; margin-top: 5px;
      border: 1px solid #ccc; border-radius: 4px;
    }
    button { margin-top: 15px; padding: 10px; background: #4caf50; color: white; border: none; border-radius: 4px; cursor: pointer; }
    button:hover { background: #45a049; }
    pre { background: #eee; padding: 15px; border-radius: 5px; max-width: 600px; }
  </style>
</head>
<body>
  <h2>Formulario para actualizar país e idiomas</h2>
  <form id="apiForm">
    <label>ID del país:</label>
    <input type="number" id="country_id" required>

    <label>Nombre del país:</label>
    <input type="text" id="country_name" required>

    <label>ID de región:</label>
    <input type="number" id="region_id" required>

    <label>Código de moneda:</label>
    <input type="text" id="currency_code" required>

    <label>Idiomas (separados por coma):</label>
    <input type="text" id="idiomas" placeholder="Spanish,Quechua" required>

    <button type="button" onclick="enviarPeticion()">Enviar</button>
  </form>

  <h3>Resultado:</h3>
  <pre id="resultado">Esperando envío...</pre>

  <script>
    async function enviarPeticion() {
      const data = new URLSearchParams();
      data.append("country_id", document.getElementById("country_id").value);
      data.append("country_name", document.getElementById("country_name").value);
      data.append("region_id", document.getElementById("region_id").value);
      data.append("currency_code", document.getElementById("currency_code").value);
      data.append("idiomas", document.getElementById("idiomas").value);

      const response = await fetch("https://g6851acff20e063-sonamzd62h6f2xr1.adb.sa-santiago-1.oraclecloudapps.com/ords/examenfinal/registro/actualizar", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: data
      });

      const result = await response.json();
      document.getElementById("resultado").innerText = JSON.stringify(result, null, 2);
    }
  </script>
</body>
</html>
